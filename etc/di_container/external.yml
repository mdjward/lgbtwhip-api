parameters:
    
    thelgbtwhip.api.external.client.the_public_whip.scraper.class:                  TheLgbtWhip\Api\External\Client\ThePublicWhip\ThePublicWhipScraper 
    thelgbtwhip.api.external.client.the_public_whip.processor.class:                TheLgbtWhip\Api\External\Client\ThePublicWhip\ThePublicWhipProcessor
    thelgbtwhip.api.external.client.the_public_whip.persisting_processor.class:     TheLgbtWhip\Api\External\Client\ThePublicWhip\ThePublicWhipPersistingProcessor
    thelgbtwhip.api.external.client.the_public_whip.client.class:                   TheLgbtWhip\Api\External\Client\ThePublicWhip\ThePublicWhipClient
    thelgbtwhip.api.external.client.the_public_whip.persisting_client.class:        TheLgbtWhip\Api\External\Client\ThePublicWhip\ThePublicWhipPersistingClient
   
services:

    thelgbtwhip.api.external.client.your_next_mp:
        class: TheLgbtWhip\Api\External\Client\MapItClient
        arguments:
            httpClient: @thelgbtwhip.api.external.client.your_next_mp.http_client

    thelgbtwhip.api.external.client.your_next_mp.http_client:
        class: GuzzleHttp\Client
        arguments:
            -
                base_url: %your_next_mp.base_url%



    thelgbtwhip.api.external.client.mapit:
        class: TheLgbtWhip\Api\External\Client\MapItClient
        arguments:
            httpClient: @thelgbtwhip.api.external.client.mapit.http_client

    thelgbtwhip.api.external.client.mapit.http_client:
        class: GuzzleHttp\Client
        arguments: [{base_url: %mapit.base_url%}]



    thelgbtwhip.api.external.client.the_public_whip.scraper.dom_implementation:
        class: DomImplementation

    thelgbtwhip.api.external.client.the_public_whip.scraper:
        class: %thelgbtwhip.api.external.client.the_public_whip.scraper.class%
        arguments:
            domImplementation:  @thelgbtwhip.api.external.client.the_public_whip.scraper.dom_implementation

    thelgbtwhip.api.external.client.the_public_whip.processor:
        class: %thelgbtwhip.api.external.client.the_public_whip.processor.class%

    thelgbtwhip.api.external.client.the_public_whip.persisting_processor:
        class: %thelgbtwhip.api.external.client.the_public_whip.persisting_processor.class%
        arguments:
            entityManager:          @thelgbtwhip.api.orm.entity_manager
            candidateRepository:    @thelgbtwhip.api.orm.entity.candidate.repository
            constituencyRepository: @thelgbtwhip.api.orm.entity.constituency.repository
            realProcessor:          @thelgbtwhip.api.external.client.the_public_whip.processor

    thelgbtwhip.api.external.client.the_public_whip.http_client:
        class: GuzzleHttp\Client
        arguments: [{base_url: %the_public_whip.base_url%}]

    thelgbtwhip.api.external.client.the_public_whip.base_url:
        class: GuzzleHttp\Url
        factory:
            - GuzzleHttp\Url
            - fromString
        arguments:
            url: %the_public_whip.base_url%

    thelgbtwhip.api.external.client.the_public_whip.client:
        class: %thelgbtwhip.api.external.client.the_public_whip.client.class%
        arguments:
            httpClient: @thelgbtwhip.api.external.client.the_public_whip.http_client
            baseUrl:    @thelgbtwhip.api.external.client.the_public_whip.base_url
            processor:  @thelgbtwhip.api.external.client.the_public_whip.processor
            scraper:    @thelgbtwhip.api.external.client.the_public_whip.scraper

#    thelgbtwhip.api.external.client.the_public_whip.persisting_client:
#        class: %thelgbtwhip.api.external.client.the_public_whip.persisting_client.class%
#        arguments:
#            baseUrl:    @thelgbtwhip.api.external.client.the_public_whip.http_client
#            processor:  @thelgbtwhip.api.external.client.the_public_whip.persisting_processor
#            scraper:    @thelgbtwhip.api.external.client.the_public_whip.scraper
